/*! rosariosis 2020-03-25 */

function popups(){this.childs=[],this.open=function(e,t){t||(t="scrollbars=yes,resizable=yes,width=800,height=400"),this.childs.push(window.open(e,"",t))},this.closeAll=function(){for(var e=0,t=this.childs.length;e<t;e++){var n=this.childs[e];n.closed||n.close()}}}function isTouchDevice(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function submenuOffset(){$(".adminmenu .menu-top").mouseover(function(){var e=$(this).next(".wp-submenu"),t=$("#footer").offset().top;t+="0px"!=$("#footer").css("bottom")?window.innerHeight:0,moveup=t-$(this).offset().top-e.outerHeight(),e.css("margin-top",(moveup<0?moveup:0)+"px")})}var addHTML=function(e,t,n){var o=document.getElementById(t);n?$(o).html(e):$(o).append(e)},checkAll=function(e,t,n){for(var o=0,i=e.elements.length;o<i;o++){var r=e.elements[o];"checkbox"==r.type&&r.name.substr(0,n.length)==n&&(r.checked=t)}},switchMenu=function(e){$(e).toggleClass("switched").nextAll("table").first().toggle()},popups=new popups;isTouchDevice()||(document.documentElement.className+=" no-touch");var ColorBox=function(){var e=640,t=390;screen.width<768&&(e=300,t=183),$(".rt2colorBox").before(function(e){if(this.id){var t=$(this);if(t.text().length>36||t.children().height()>t.parent().height())return'<div class="link2colorBox"><a class="colorboxinline" href="#'+this.id+'"></a></div>'}}),$(".colorbox").colorbox(),$(".colorboxiframe").colorbox({iframe:!0,innerWidth:e,innerHeight:t}),$(".colorboxinline").colorbox({inline:!0,maxWidth:"95%",maxHeight:"85%",scrolling:!0})},GetMDConverter=function(){return void 0===GetMDConverter.marked&&(GetMDConverter.marked=function(e){var t=new marked.Renderer;return t.link=function(e,t,n){return marked.Renderer.prototype.link.call(this,e,t,n).replace("<a","<a target='_blank' ")},marked(e,{breaks:!0,gfm:!0,headerIds:!1,renderer:t})}),GetMDConverter.marked},MarkDownInputPreview=function(e){var t=$("#"+e),n=t.val(),o=$("#divMDPreview"+e);if(!o.is(":visible")){var i=GetMDConverter();o.html(i(n)),o.css("height",t.css("height"))}o.toggle(),t.toggle(),t.next("br").toggle(),o.siblings(".tab").toggleClass("disabled")},MarkDownToHTML=function(){$(".markdown-to-html").html(function(e,t){return GetMDConverter()(t)})},JSCalendarSetup=function(){$(".button.cal").each(function(e,t){var n=t.id.replace("trigger","");Calendar.setup({monthField:"monthSelect"+n,dayField:"daySelect"+n,yearField:"yearSelect"+n,ifFormat:"%d-%b-%y",button:t.id,align:"Tl",singleClick:!0})})},ajaxOptions=function(e,t,n){return{beforeSend:function(e){$(".ajax-error").hide(),$(".loading").css("visibility","visible")},success:function(o,i,r){var a=r.getResponseHeader("X-Redirect-Url");if(a)t=a;else if(n&&"get"==n.method){var s=[];if("search"==n.name){var l=$(n).formToArray();$(l).each(function(e,t){""!==t.value&&s.push(t.name+"="+t.value)}),s=s.join("&")}else s=$(n).formSerialize();t+=(-1!=t.indexOf("?")?"&":"?")+s}ajaxSuccess(o,e,t)},error:function(o,i,r){ajaxError(o,i,r,t,e,n)},complete:function(){$(".loading").css("visibility","hidden"),hideHelp()}}},ajaxError=function(e,t,n,o,i,r){var a=e.status,s="AJAX error. "+a+" ";if(void 0===ajaxError.num&&(ajaxError.num=0),ajaxError.num++,0===a){if(s+="Check your Network",o&&1===ajaxError.num)return void window.setTimeout(function(){$.ajax(o,ajaxOptions(i,o,r))},1e3)}else s+="parsererror"==t?"JSON parse failed":"timeout"==t?"Request Timeout":"abort"==t?"Request Aborted":n;s+=". "+o,ajaxError.num=0,$(".ajax-error").html(s).fadeIn()},ajaxLink=function(e){var t,n;if("string"==typeof e?(n="body","Side.php"==(t=e)?n="menu":"Side.php?sidefunc=update"==t?n="menu-top":0===t.indexOf("Bottom.php")&&(n="footer")):(t=e.href,n=e.target),-1!=t.indexOf("#")||"_blank"==n||"_top"==n)return!0;if(!n){if(-1==t.indexOf("Modules.php"))return!0;n="body"}return $.ajax(t,ajaxOptions(n,t,!1)),!1},ajaxPostForm=function(e,t){var n=e.target||"body";if(-1!=e.action.indexOf("_ROSARIO_PDF"))return e.target="_blank",e.method="post",!0;if("_top"==n)return!0;"multipart/form-data"!==e.enctype||$(e).has('input[type="file"]').length||(e.enctype="application/x-www-form-urlencoded");var o=ajaxOptions(n,e.action,e);return t?$(e).ajaxSubmit(o):$(e).ajaxForm(o),!1},ajaxSuccess=function(e,t,n){"body"==t&&$("html").focus(),$("#"+t).html(e);var o=document;history.pushState&&"body"==t&&o.URL!=n&&history.pushState(null,o.title,n),ajaxPrepare("#"+t)},ajaxPrepare=function(e){$(e+" form").each(function(){ajaxPostForm(this,!1)}),"#menu"==e&&(window.modname&&openMenu(modname),screen.width>736&&submenuOffset());var t=$("#body h3.title").first().text(),n=$("#body h2").first().text();document.title=n&&t?n+" | "+t:n+t,"#body"!=e&&"body"!=e||(openMenu(),screen.width<735&&$("#menu").addClass("hide"),document.body.scrollIntoView(),$("#body").scrollTop(0),popups.closeAll(),MarkDownToHTML(),ColorBox(),JSCalendarSetup(),repeatListTHead($("table.list")))};$(document).ajaxStart(function(){$('input[type="submit"],input[type="button"],a').css("pointer-events","none")}).ajaxStop(function(){$('input[type="submit"],input[type="button"],a').css("pointer-events","")}),window.onload=function(){$.ajaxPrefilter("script",function(e){e.cache=!0}),isTouchDevice()&&$(".adminmenu .menu-top").on("click touch",function(e){return e.preventDefault(),$("#selectedModuleLink").attr("id",""),$(this).attr("id","selectedModuleLink"),$(this).offset().top<this.scrollHeight&&$("#menu").scrollTop($("#menu")[0].scrollTop-Math.abs($(this).offset().top)-this.scrollHeight),screen.width>736&&fixedMenu(),!1}),$(document).on("click","a",function(e){return"none"==$(this).css("pointer-events")?e.preventDefault():ajaxLink(this)}),screen.width>736&&(fixedMenu(),submenuOffset()),ajaxPrepare("body"),history.pushState&&window.setTimeout(ajaxPopState(),1)};var ajaxPopState=function(){window.addEventListener("popstate",function(e){ajaxLink(document.URL)},!1)};window.onunload=function(){},window.performance&&2==window.performance.navigation.type&&-1!=document.URL.indexOf("Modules.php?")&&(window.location.href="index.php?modfunc=logout");var LOSearch=function(e,t,n){if("click"===e.type||13==e.keyCode)return e.preventDefault(),ajaxLink(n+(t?"&LO_search="+encodeURIComponent(t):""))},repeatListTHead=function(e){e.length&&e.each(function(e,t){var n=$(t).children("thead,tbody").children("tr"),o=n.length;if(o>20){for(var i=n[0],r=o>40?20:o-1,a=[];r<o;r+=20){var s=n[r];a.push(s)}$(i).clone().addClass("thead-repeat").insertAfter(a)}})},openMenu=function(){$("#selectedMenuLink,#selectedModuleLink").attr("id",""),window.modname&&modname&&"misc/Portal.php"!=modname&&($('.wp-submenu a[href$="'+modname+'"]').first().attr("id","selectedMenuLink"),$("#selectedMenuLink").parents(".menu-module").children(".menu-top").attr("id","selectedModuleLink"))},toggleHelp=function(){"block"!==$("#footerhelp").css("display")?showHelp():hideHelp()},showHelp=function(){var e=$("#footerhelp"),t=$("#footerhelp .footerhelp-content");modname!==showHelp.tmp?($(".loading").css("visibility","visible"),$.get("Bottom.php?bottomfunc=help&modname="+encodeURIComponent(modname),function(n){showHelp.tmpdata=n,t.html(n),e.scrollTop(0)}).fail(ajaxError).always(function(){$(".loading").css("visibility","hidden")}),showHelp.tmp=modname):showHelp.tmpdata&&!e.html()&&t.html(showHelp.tmpdata),e.show()},hideHelp=function(){$("#footerhelp").hide()},expandMenu=function(){$("#menu").toggleClass("hide"),$("body").css("overflow",""),screen.width<736&&!$("#menu").hasClass("hide")&&$("body").css("overflow","hidden")},fileInputSizeValidate=function(e,t){e.files[0].size/1024/1024>t&&(alert(e.title),$(e).val(""))};
//# sourceMappingURL=warehouse.min.js.map